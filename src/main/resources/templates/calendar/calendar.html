<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="#">
	<head>
		<title>Rooms</title>
		
				<!-- MATERIAL STYLE -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/material-design-lite/1.1.0/material.min.css" />

    	<!-- MATERIAL DATATABLE STYLE -->	
		<link rel="stylesheet" href="https://cdn.datatables.net/1.10.13/css/dataTables.bootstrap.min.css" />
		<link rel="stylesheet" href="https://cdn.datatables.net/1.10.13/css/dataTables.material.min.css" />
		
   		<!-- CUSTOM STYLES -->
		<link rel="stylesheet" th:href="@{/css/reset.css}" />
		<link rel="stylesheet" th:href="@{/css/style-dash-layout.css}" />
		
		<!-- BOOTSTRAP STYLE -->
		<link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.1.1/css/responsive.bootstrap.min.css" />
 		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
	
		<!-- GOOGLE FONTS -->
		<link href="https://fonts.googleapis.com/css?family=Miriam+Libre:400,700|Source+Sans+Pro:200,400,700,600,400italic,700italic" rel="stylesheet" />
		<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css' />
		<link href='https://fonts.googleapis.com/css?family=Roboto:400,700' rel='stylesheet' type='text/css' />
		
		<!-- MATERIAL ICONS -->	
		<link rel="stylesheet" th:href="@{/css/material-icons.css}" />
	
		<!-- MODERNIZR SCRIPT -->
		<script th:src="@{/js/modernizr.js}"></script>
    
   		<!-- JQUERY SCRIPTS -->
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
		<script src="http://cdn.datatables.net/1.10.13/js/jquery.dataTables.min.js"></script>
		<script th:src="@{/js/jquery.menu-aim.js}"></script>
 		
		<!-- RESPONSIVE DATATABLE SCRIPT -->	 
		<script src="https://cdn.datatables.net/responsive/2.1.1/js/dataTables.responsive.min.js"></script>
		<script src="https://cdn.datatables.net/responsive/2.1.1/js/responsive.bootstrap.min.js"></script>
			
		<!-- CUSTOM SCRIPT -->
		<script th:src="@{/js/main.js}"></script>
		
		<!-- GOOGLE FONTS -->
		<link href='https://fonts.googleapis.com/css?family=Roboto:100,400,700' rel='stylesheet' type='text/css' />
		
		<!-- FULLCALENDAR STYLE -->
		<link href="/webjars/fullcalendar/2.2.5/fullcalendar.css"
			th:href="@{/webjars/fullcalendar/2.2.5/fullcalendar.css}"
			rel="stylesheet"></link>
		<link href="/webjars/fullcalendar/2.2.5/fullcalendar.print.css"
			th:href="@{/webjars/fullcalendar/2.2.5/fullcalendar.print.css}"
			rel="stylesheet" media="print"></link>
			
		<!-- JQUERY SCRIPT -->
		<script src="http://cdn.jsdelivr.net/webjars/jquery/2.9.0/jquery.min.js"
			th:src="@{/webjars/momentjs/2.9.0/min/moment.min.js}"
			type="text/javascript"></script>
		<script src="http://cdn.jsdelivr.net/webjars/jquery/2.1.3/jquery.min.js"
			th:src="@{/webjars/jquery/2.1.3/jquery.min.js}" type="text/javascript"></script>
		<script src="http://cdn.jsdelivr.net/webjars/jquery/2.1.3/jquery.min.js"
			th:src="@{/webjars/fullcalendar/2.2.5/fullcalendar.min.js}"
			type="text/javascript"></script>
		
		<!-- JQUERY UI STYLE -->
		 <link rel="stylesheet"
			href="//code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css"
			th:href="@{/webjars/jquery-ui/1.11.2/jquery-ui.css}" /> 
		
		<!-- JQUERY UI SCRIPT -->
		<script
			src="//code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css"
			th:src="@{/webjars/jquery-ui/1.11.2/jquery-ui.js}"
			type="text/javascript"></script>
			
		<!-- JQUERY MATERIAL FORM SCRIPT -->	
		<script type="text/javascript" src="/js/jquery.material.form.js"></script>
		
		<!-- FULLCALENDAR CUSTOM STYLE -->
		<link rel="stylesheet" href="/css/fullcalendar-custom.css" />
		
		<!-- JQUERY MATERIAL FORM STYLE -->	
		<link rel="stylesheet" type="text/css" href="/css/jquery.material.form.css" />
	 	
	 	<!-- MATERIALIZE SCRIPT -->	
		<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/js/materialize.min.js"></script>
			
		<!-- MATERIALIZE CUSTOM STYLE -->	
		<link rel="stylesheet" th:href="@{/css/materialize.min.css}" />
		
		<!-- JQUERY UI CUSTOM STYLE -->
		<link rel="stylesheet" href="/css/jquery-ui-custom.css" /> 
	
		<script th:inline="javascript">
			/*<![CDATA[*/		
			
				    $(document).ready(function() {
				    	
					    var dialog, 
				    	form, 
				    	tips = $( ".validateTips" ), 
				    	moved = false,
				    	eventToDeleteId,
				    	eventInEdit,
				    	rooom = /*[[${room}]]*/ null,
				    	rooomId = /*[[${room.id}]]*/ null;
				    	
				    	$('#calendar').fullCalendar({
							header: {
								left: 'prev,next today',
								center: 'title',
								right: 'weekDays,weekEnds,agendaDay'
							},
						    views: {
						        agendaFourDay: {
						            type: 'agenda',
						            duration: { days: 5 },
						            buttonText: '4 day'
						        },
								weekDays: {
						        	buttonText: 'week',
									type: 'agendaWeek',
							        hiddenDays: [0, 6]
							    },
						        weekEnds: {
						        	buttonText: 'weekend  !important',
						        	type: 'agendaWeek',
							        hiddenDays: [1, 2, 3, 4, 5]
							    }
						    },
							defaultDate: moment().format("YYYY-MM-DD"),
							editable: false,
							eventRender: function(event, element) {
							},
							eventLimit: true, // allow "more" link when too many events
							events: {
						        url: '/calendar/events',
						        data: function() { // a function that returns an object
						            return {
					                room: rooomId
						            };
					            },
						        type: 'GET',
						        error: function() {
						            alert('there was an error while fetching events!');
						        },
						        //color: 'blue',   // a non-ajax option
						        //textColor: 'white' // a non-ajax option
						        //color: '#8E74C8'
						    },
							selectable: false,
							selectHelper: false,
							select: function(start, end) {
								startdateandtime.value = moment(start).format("YYYY-MM-DDTHH:mm:ss");
								enddateandtime.value = moment(end).format("YYYY-MM-DDTHH:mm:ss");
								dialog.dialog( "open" );
							},
							loading: function(bool) {
								$('#loading').toggle(bool);
							},
						    timezone:'local',
						    axisFormat: 'HH:mm',
						    timeFormat: {
						        agenda: 'HH:mm'
						    },
						    dragOpacity: {
						        agenda: .5
						    },
						    eventOverlap: false,
						    slotDuration: '00:30:00',
						    snapDuration: '00:15:00',
						    allDaySlot: false,
						    minTime: '07:00:00',
					        maxTime: '22:00:00',
						    defaultView:'weekDays'
						});
					});
			/*]]>*/
		</script>
	
	</head>

	<body>
 			<main class="cd-main-content-home" style="padding: 15px 15px 15px 15px !important">
 			<h1 style="font-weight:bold">Reserve room: <span th:text="${room.name}"></span></h1>
        		<div class="card-panel">
					<div id='loading'>loading...</div>
					
					<div id='calendar' th:id="calendar" style="font-size:1.7em !important; div.fc-toolbar { height:34px !important; }"></div>
					
	    		</div>
        	</main>	
	</body>
</html>
